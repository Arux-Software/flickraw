<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README.rdoc [RDoc Documentation]</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;

    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }

  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }<\/style>" )

  // ]]>
  </script>

</head>
<body>


  <div id="fileHeader">
    <h1>README.rdoc</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README.rdoc

      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>2009-09-10 18:14:27 +0200</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">

  <div id="contextContent">

    <div id="description">
      <h1>Flickraw</h1>
<p>
Flickraw is a library to access <a href="http://flickr.com">flickr</a> api
in a simple way. It maps exactly the methods described in <a
href="http://www.flickr.com/services/api">the official api
documentation</a>. It also tries to present the data returned in a simple
and intuitive way. The methods are fetched from flickr when loading the
library by using introspection capabilities. So it is always up-to-date
with regards to new methods added by flickr.
</p>
<p>
The rubyforge project : <a
href="http://rubyforge.org/projects/flickraw">rubyforge.org/projects/flickraw</a>
</p>
<p>
The github repository: <a
href="http://github.com/hanklords/flickraw/tree/master">github.com/hanklords/flickraw/tree/master</a>
</p>
<h1>Installation</h1>
<p>
Type this in a console (you might need to be superuser)
</p>
<pre>
 gem install flickraw
</pre>
<p>
This will recreate the documentation by fetching the methods descriptions
from flickr and then virtually plugging them in standard rdoc
documentation.
</p>
<pre>
 rake rdoc
</pre>
<h1>Features</h1>
<ul>
<li>Small single file: flickraw.rb is less than 300 lines

</li>
<li>Complete support of flickr API. This doesn&#8217;t require an update of the
library

</li>
<li>Ruby syntax similar to the flickr api

</li>
<li>Flickr authentication

</li>
<li>Photo upload

</li>
<li>Proxy support

</li>
<li>Delayed library loading (for rails users)

</li>
</ul>
<h1>Usage</h1>
<h2>Simple</h2>
<pre>
 require 'flickraw'

 list   = flickr.photos.getRecent

 id     = list[0].id
 secret = list[0].secret
 info = flickr.photos.getInfo :photo_id =&gt; id, :secret =&gt; secret

 info.title           # =&gt; &quot;PICT986&quot;
 info.dates.taken     # =&gt; &quot;2006-07-06 15:16:18&quot;

 sizes = flickr.photos.getSizes :photo_id =&gt; id

 original = sizes.find {|s| s.label == 'Original' }
 original.width       # =&gt; &quot;800&quot;
</pre>
<h2>Authentication</h2>
<pre>
  require 'flickraw'

  FlickRaw.api_key=&quot;... Your API key ...&quot;
  FlickRaw.shared_secret=&quot;... Your shared secret ...&quot;

  frob = flickr.auth.getFrob
  auth_url = FlickRaw.auth_url :frob =&gt; frob, :perms =&gt; 'read'

  puts &quot;Open this url in your process to complete the authication process : #{auth_url}&quot;
  puts &quot;Press Enter when you are finished.&quot;
  STDIN.getc

  begin
    flickr.auth.getToken :frob =&gt; frob
    login = flickr.test.login
    puts &quot;You are now authenticated as #{login.username}&quot;
  rescue FlickRaw::FailedResponse =&gt; e
    puts &quot;Authentication failed : #{e.msg}&quot;
  end
</pre>
<p>
You don&#8217;t need to do that each time, you can reuse your token:
</p>
<pre>
  require 'flickraw'

  FlickRaw.api_key=&quot;... Your API key ...&quot;
  FlickRaw.shared_secret=&quot;... Your shared secret ...&quot;

  auth = flickr.auth.checkToken :auth_token =&gt; &quot;... Your saved token ...&quot;

  # From here you are logged:
  puts auth.user.username
</pre>
<h2>Upload</h2>
<pre>
  require 'flickraw'

  FlickRaw.api_key=&quot;... Your API key ...&quot;
  FlickRaw.shared_secret=&quot;... Your shared secret ...&quot;

  PHOTO_PATH='photo.jpg'

  # You need to be authentified to do that, see the previous examples.
  flickr.upload_photo PHOTO_PATH, :title =&gt; &quot;Title&quot;, :description =&gt; &quot;This is the description&quot;
</pre>
<h2>Flickraw Options</h2>
<p>
You can pass some options to modify flickraw behavior:
</p>
<pre>
  FlickrawOptions = {
    &quot;api_key&quot; =&gt; &quot;... Your API key ...&quot;,
    &quot;shared_secret&quot; =&gt; &quot;... Your shared secret ...&quot;,
    &quot;auth_token&quot; =&gt; &quot;... Your saved token...&quot;  # if you set this you will be automatically loggued
    &quot;lazyload&quot; =&gt; true,     # This delay the loading of the library until the first call

    # Proxy support. alternatively, you can use the http_proxy environment variable
    &quot;proxy_host&quot; =&gt; &quot;proxy_host&quot;,
    &quot;proxy_port&quot; =&gt; &quot;proxy_port&quot;,
    &quot;proxy_user&quot; =&gt; &quot;proxy_user&quot;,
    &quot;proxy_password&quot; =&gt; &quot;proxy_password&quot;,

    &quot;timeout&quot; =&gt; 5,                # Set the request timeout
    &quot;auth_token&quot; =&gt; &quot;SAVED_TOKEN&quot;  # Set the initial token
  }

  require 'flickraw'
</pre>
<p>
See the <em>examples</em> directory to find more examples.
</p>
<h1>Notes</h1>
<p>
If you want to use the api authenticated with several user at the same
time, you must pass the authentication token explicitely each time. This is
because it is keeping the authentication token internally. As an
alternative, you can create new Flickr objects besides Kernel.flickr which
is created for you. Use Flickr.new to this effect.
</p>

    </div>

   </div>


  </div>

    <!-- if includes -->

    <div id="section">




    <!-- if method_list -->




  </div>

<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>
